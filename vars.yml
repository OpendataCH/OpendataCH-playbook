---
documentroot: /home/www-data
opendata_ch_root: "{{ documentroot }}/opendata.ch"
transport_root: "{{ documentroot }}/transport.opendata.ch"
wiki_root: "{{ documentroot }}/opendata.ch/wiki"

opendata_ch_database_name: nmd_opendata_ch
opendata_ch_database_user: nmd_opendata_ch
opendata_ch_database_password: "{{ vault_opendata_ch_database_password }}"

databases:
  - name: "{{ opendata_ch_database_name }}"
    user: "{{ opendata_ch_database_user }}"
    password: "{{ opendata_ch_database_password }}"

opendata_ch_wordpress_auth_key: "{{ vault_opendata_ch_wordpress_auth_key }}"
opendata_ch_wordpress_secure_auth_key: "{{ vault_opendata_ch_wordpress_secure_auth_key }}"
opendata_ch_wordpress_logged_in_key: "{{ vault_opendata_ch_wordpress_logged_in_key }}"
opendata_ch_wordpress_nonce_key: "{{ vault_opendata_ch_wordpress_nonce_key }}"
opendata_ch_wordpress_auth_salt: "{{ vault_opendata_ch_wordpress_auth_salt }}"
opendata_ch_wordpress_secure_auth_salt: "{{ vault_opendata_ch_wordpress_secure_auth_salt }}"
opendata_ch_wordpress_logged_in_salt: "{{ vault_opendata_ch_wordpress_logged_in_salt }}"
opendata_ch_wordpress_nonce_salt: "{{ vault_opendata_ch_wordpress_nonce_salt }}"

vhosts:
  - servername: opendata.ch
    documentroot: "{{ opendata_ch_root }}"
    template: letsencrypt_noredirect
    aliases:
      - fr.opendata.ch
      - en.opendata.ch
      - make.opendata.ch
      - glam.opendata.ch
      - trans.opendata.ch
      - finance.opendata.ch
      - energy.opendata.ch
      - food.opendata.ch
      - tourism.opendata.ch
      - www.offenedaten.ch
      - offenedaten.ch
  - servername: transport.opendata.ch
    documentroot: "{{ transport_root }}/web"
    template: letsencrypt_noredirect

cloudflare_email: hannes@opendata.ch
cloufflare_api_token: "{{ vault_cloufflare_api_token }}"

dns_opendata02_ip: 5.148.188.59
dns_farnsworth_ip: 149.126.4.43
dns_domains:
  - domain: opendata.ch
    records:
      - {name: "@", type: A, value: "{{ dns_opendata02_ip }}"}

      - {name: "en", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "energy", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "finance", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "fr", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "food", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "glam", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "make", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "tourism", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "transport", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "trans", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "www", type: A, value: "{{ dns_opendata02_ip }}"}
      - {name: "www.transport", type: A, value: "{{ dns_opendata02_ip }}"}

      - {name: "status.transport", type: A, value: "{{ dns_farnsworth_ip }}"}

      - {name: "@", type: MX, value: "aspmx.l.google.com", priority: 1}
      - {name: "@", type: MX, value: "alt1.aspmx.l.google.com", priority: 5}
      - {name: "@", type: MX, value: "alt2.aspmx.l.google.com", priority: 5}
      - {name: "@", type: MX, value: "aspmx2.googlemail.com", priority: 10}
      - {name: "@", type: MX, value: "aspmx3.googlemail.com", priority: 10}
      - {name: "@", type: MX, value: "aspmx4.googlemail.com", priority: 10}
      - {name: "@", type: MX, value: "aspmx5.googlemail.com", priority: 10}

      - {name: "calendar", type: CNAME, value: "ghs.google.com"}
      - {name: "mail", type: CNAME, value: "ghs.google.com"}
      - {name: "docs", type: CNAME, value: "ghs.google.com"}
      - {name: "sites", type: CNAME, value: "ghs.google.com"}
      - {name: "webmail", type: CNAME, value: "ghs.google.com"}
      - {name: "groups", type: CNAME, value: "ghs.googlehosted.com"}

      - {name: "*.budget", type: CNAME, value: "open-budget.herokuapp.com"}
      - {name: "flows.transport", type: CNAME, value: "swiss-transport-flows.herokuapp.com"}
      - {name: "hack", type: CNAME, value: "hack.opendata.ch.herokudns.com"}
      - {name: "healthinsurance", type: CNAME, value: "ship.seantis.ch"}
      - {name: "ipollution", type: CNAME, value: "gentle-brook-9727.herokuapp.com"}
      - {name: "request", type: CNAME, value: "request-data.herokuapp.com"}
      - {name: "vornamen", type: CNAME, value: "snowflake27.snowflakehosting.ch"}
      - {name: "team", type: CNAME, value: "morpho1.datalets.ch"}
